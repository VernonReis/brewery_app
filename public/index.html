<!DOCTYPE html>
<html ng-app="BreweryApp">
<head>
    <meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
    <script type="text/javascript" src="/js/app.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="/css/showpage.css">


    <link rel="stylesheet" href="/css/home.css">
    <title>Brewery</title>
</head>
<body ng-controller="MainController as ctrl">

    <div ng-if='ctrl.showpage == false' ng-click='ctrl.show()'>Back to main page</div>

    <div ng-if='ctrl.showpage == false'>
        <br>
        <h1>Brewery Name:
        <br>
        {{ ctrl.showbrewery.name }}
        <br>
        <h1>Brewery Location:
        <br>
        {{ ctrl.showbrewery.location }}
        <br />

        <h2>Edit Brewery</h2>
        <div ng-include=" 'partials/edit_brewery.html'"></div>
    </div>

    <input ng-if='ctrl.showpage' type="text" placeholder="Search for a Brewery..." ng-model='searchBox'>
    <input class="form-group col-md-2" type="text" placeholder="Search for a Brewery..." ng-model='searchBox'>


    <div ng-if='ctrl.showpage' ng-include="'partials/login.html'"></div>
    <div ng-if='ctrl.showpage' ng-include="'partials/register.html'"></div>
    <div ng-if='ctrl.showpage == false' ng-include="'partials/reviews.html'"></div>

    <form class="form-group col-md-2" ng-if='ctrl.showpage' ng-submit="ctrl.createBrewery()">
        <input  type='text' placeholder="name" ng-model="ctrl.createForm.name" />
        <input type='text' placeholder="location" ng-model="ctrl.createForm.location" />
        <input type="submit" value="Create New Brewery" />

        <div ng-include=" 'partials/list_delete.html'"></div>
    </form>

    <div ng-if='ctrl.showpage == false'>
        <div ng-click='ctrl.show()'>Back to main page</div>
        <br>
        Brewery Name: {{ ctrl.showbrewery.name }}
        <br>
        Brewery Location: {{ ctrl.showbrewery.location }}
        <br />
        Reviews:
        <div ng-repeat='review in ctrl.breweryReviews'>
            <li>{{ review.rating }}</li>
            <li>{{ review.comment }}</li>
        </div>
        <br />
        <h2>Add Review</h2>
        <form ng-submit='ctrl.addReview()'>
            <input type='number' min="1" max="5" placeholder='rating' ng-model='ctrl.formdata.rating' required>
            <input type='text' placeholder='comment' ng-model='ctrl.formdata.comment'>
            <input type='hidden' ng-model='ctrl.formdata.userID'>
            <input type='submit'>
        </form>

        <h2>Edit Brewery</h2>
        <div ng-include=" 'partials/edit_brewery.html'"></div>
    </div>
</body>
</html>
